---
title: 从二进制表示认识PHP的float类型
date: 2017-12-29 11:25:36
categories:
- PHP
- 正文
---

# 从二进制表示认识PHP的float类型

**在PHP中会进行类型的自动转换，以下内容仅为拓展**
---

> PHP在表示浮点型时，使用的是IEEE 754 双精度格式。

IEEE 754有两种基本的浮点格式：单精度和双精度。
单精度：24位有效数字精度，8位阶码，总占位32位。
双精度：53位有效数字精度，11位阶码，总占位64位。
用表格表示：

| 精度		| 数符	| 阶码	| 尾数	| 总位数	| 偏移值	|
|-----------|-------|-------|-------|-----------|-----------|
| 单精度	| 1		| 8		| 23	| 32		| 127		|
| 双精度	| 1		| 11	| 52	| 64		| 1023		|

举例说明PHP中浮点型的二进制表示：
数值：22.33
1. 将数值转换为二进制，为10110.100001
2. 把小数点移动到数位只有1，即：1.0110100001*2^4,4用二进制表示，即100
3. 数符：因为22.33>0,所以数符为0（负数为1）
4. 阶码：阶码为偏移量加阶数，即1023+4=1027，二进制表示为10000000011
5. 尾数：小数点后面的值，即100001

结果为：

|数符	|阶码			|尾数				|
|-------|---------------|-------------------|
|0		|100 0000 0011	|1000 0100 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 000|